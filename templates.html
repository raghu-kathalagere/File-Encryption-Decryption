<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure File Encryption & Decryption</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const App = () => {
            const [activeTab, setActiveTab] = useState('encrypt');
            const [encryptionType, setEncryptionType] = useState('symmetric');
            const [password, setPassword] = useState('');
            const [publicKey, setPublicKey] = useState('');
            const [selectedFile, setSelectedFile] = useState(null);
            const [isProcessing, setIsProcessing] = useState(false);
            const [message, setMessage] = useState({ type: '', text: '' });
            const [passwordStrength, setPasswordStrength] = useState({ isStrong: false, message: '' });
            const [generatedKeys, setGeneratedKeys] = useState({ private: '', public: '' });
            const [showKeys, setShowKeys] = useState(false);
            const fileInputRef = useRef(null);

            const validatePassword = async (pass) => {
                try {
                    const response = await fetch('/api/validate-password', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ password: pass })
                    });
                    const data = await response.json();
                    setPasswordStrength(data);
                } catch (error) {
                    console.error('Password validation error:', error);
                }
            };

            useEffect(() => {
                if (password.length > 0) {
                    const timeoutId = setTimeout(() => validatePassword(password), 500);
                    return () => clearTimeout(timeoutId);
                }
            }, [password]);

            const handleFileSelect = (event) => {
                const file = event.target.files[0];
                if (file) {
                    if (file.size > 100 * 1024 * 1024) { // 100MB limit
                        setMessage({ type: 'error', text: 'File size must be less than 100MB' });
                        return;
                    }
                    setSelectedFile(file);
                    setMessage({ type: 'success', text: `Selected: ${file.name}` });
                }
            };

            const handleEncrypt = async () => {
                if (!selectedFile) {
                    setMessage({ type: 'error', text: 'Please select a file to encrypt' });
                    return;
                }

                if (encryptionType === 'symmetric' && !password) {
                    setMessage({ type: 'error', text: 'Please enter a password for symmetric encryption' });
                    return;
                }

                if (encryptionType === 'asymmetric' && !publicKey) {
                    setMessage({ type: 'error', text: 'Please enter a public key for asymmetric encryption' });
                    return;
                }

                setIsProcessing(true);
                setMessage({ type: 'info', text: 'Encrypting file...' });

                try {
                    const formData = new FormData();
                    formData.append('file', selectedFile);
                    formData.append('encryption_type', encryptionType);
                    
                    if (encryptionType === 'symmetric') {
                        formData.append('password', password);
                    } else {
                        formData.append('public_key', publicKey);
                    }

                    const response = await fetch('/api/encrypt', {
                        method: 'POST',
                        body: formData
                    });

                    if (response.ok) {
                        const blob = await response.blob();
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `${selectedFile.name}.enc`;
                        document.body.appendChild(a);
                        a.click();
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);
                        
                        setMessage({ type: 'success', text: 'File encrypted successfully! Download started.' });
                        setSelectedFile(null);
                        setPassword('');
                        setPublicKey('');
                        if (fileInputRef.current) fileInputRef.current.value = '';
                    } else {
                        const errorData = await response.json();
                        setMessage({ type: 'error', text: errorData.error || 'Encryption failed' });
                    }
                } catch (error) {
                    setMessage({ type: 'error', text: 'An error occurred during encryption' });
                } finally {
                    setIsProcessing(false);
                }
            };

            const handleDecrypt = async () => {
                if (!selectedFile) {
                    setMessage({ type: 'error', text: 'Please select an encrypted file to decrypt' });
                    return;
                }

                if (!password) {
                    setMessage({ type: 'error', text: 'Please enter the password for decryption' });
                    return;
                }

                setIsProcessing(true);
                setMessage({ type: 'info', text: 'Decrypting file...' });

                try {
                    const formData = new FormData();
                    formData.append('file', selectedFile);
                    formData.append('decryption_type', 'symmetric');
                    formData.append('password', password);

                    const response = await fetch('/api/decrypt', {
                        method: 'POST',
                        body: formData
                    });

                    if (response.ok) {
                        const blob = await response.blob();
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `decrypted_${selectedFile.name.replace('.enc', '')}`;
                        document.body.appendChild(a);
                        a.click();
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);
                        
                        setMessage({ type: 'success', text: 'File decrypted successfully! Download started.' });
                        setSelectedFile(null);
                        setPassword('');
                        if (fileInputRef.current) fileInputRef.current.value = '';
                    } else {
                        const errorData = await response.json();
                        setMessage({ type: 'error', text: errorData.error || 'Decryption failed' });
                    }
                } catch (error) {
                    setMessage({ type: 'error', text: 'An error occurred during decryption' });
                } finally {
                    setIsProcessing(false);
                }
            };

            const generateKeyPair = async () => {
                setIsProcessing(true);
                setMessage({ type: 'info', text: 'Generating RSA key pair...' });

                try {
                    const response = await fetch('/api/generate-keys', {
                        method: 'POST'
                    });

                    if (response.ok) {
                        const data = await response.json();
                        setGeneratedKeys(data);
                        setShowKeys(true);
                        setMessage({ type: 'success', text: 'RSA key pair generated successfully!' });
                    } else {
                        const errorData = await response.json();
                        setMessage({ type: 'error', text: errorData.error || 'Key generation failed' });
                    }
                } catch (error) {
                    setMessage({ type: 'error', text: 'An error occurred during key generation' });
                } finally {
                    setIsProcessing(false);
                }
            };

            const copyToClipboard = (text) => {
                navigator.clipboard.writeText(text);
                setMessage({ type: 'success', text: 'Copied to clipboard!' });
            };

            const clearMessage = () => {
                setMessage({ type: '', text: '' });
            };

            useEffect(() => {
                if (message.text) {
                    const timer = setTimeout(clearMessage, 5000);
                    return () => clearTimeout(timer);
                }
            }, [message]);

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="gradient-bg text-white py-8">
                        <div className="container mx-auto px-4 text-center">
                            <h1 className="text-4xl font-bold mb-2">
                                <i className="fas fa-shield-alt mr-3"></i>
                                Secure File Encryption
                            </h1>
                            <p className="text-xl opacity-90">
                                Military-grade encryption using AES-256 and RSA-2048
                            </p>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="container mx-auto px-4 py-8">
                        {/* Message Display */}
                        {message.text && (
                            <div className={`mb-6 p-4 rounded-lg fade-in ${
                                message.type === 'error' ? 'bg-red-100 border border-red-400 text-red-700' :
                                message.type === 'success' ? 'bg-green-100 border border-green-400 text-green-700' :
                                'bg-blue-100 border border-blue-400 text-blue-700'
                            }`}>
                                <div className="flex justify-between items-center">
                                    <span>{message.text}</span>
                                    <button onClick={clearMessage} className="text-gray-500 hover:text-gray-700">
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Tab Navigation */}
                        <div className="bg-white rounded-lg shadow-lg mb-8">
                            <div className="border-b border-gray-200">
                                <nav className="flex space-x-8 px-6">
                                    {['encrypt', 'decrypt', 'keys'].map((tab) => (
                                        <button
                                            key={tab}
                                            onClick={() => setActiveTab(tab)}
                                            className={`py-4 px-1 border-b-2 font-medium text-sm ${
                                                activeTab === tab
                                                    ? 'border-blue-500 text-blue-600'
                                                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                                            }`}
                                        >
                                            {tab === 'encrypt' && <i className="fas fa-lock mr-2"></i>}
                                            {tab === 'decrypt' && <i className="fas fa-unlock mr-2"></i>}
                                            {tab === 'keys' && <i className="fas fa-key mr-2"></i>}
                                            {tab.charAt(0).toUpperCase() + tab.slice(1)}
                                        </button>
                                    ))}
                                </nav>
                            </div>

                            {/* Tab Content */}
                            <div className="p-6">
                                {/* Encryption Tab */}
                                {activeTab === 'encrypt' && (
                                    <div className="space-y-6">
                                        <div>
                                            <h3 className="text-lg font-medium text-gray-900 mb-4">
                                                <i className="fas fa-lock mr-2 text-blue-600"></i>
                                                Encrypt Your Files
                                            </h3>
                                            
                                            {/* Encryption Type Selection */}
                                            <div className="mb-6">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Encryption Method
                                                </label>
                                                <div className="flex space-x-4">
                                                    <label className="flex items-center">
                                                        <input
                                                            type="radio"
                                                            value="symmetric"
                                                            checked={encryptionType === 'symmetric'}
                                                            onChange={(e) => setEncryptionType(e.target.value)}
                                                            className="mr-2"
                                                        />
                                                        <span className="text-sm text-gray-700">
                                                            Symmetric (AES-256) - Fast & Secure
                                                        </span>
                                                    </label>
                                                    <label className="flex items-center">
                                                        <input
                                                            type="radio"
                                                            value="asymmetric"
                                                            checked={encryptionType === 'asymmetric'}
                                                            onChange={(e) => setEncryptionType(e.target.value)}
                                                            className="mr-2"
                                                        />
                                                        <span className="text-sm text-gray-700">
                                                            Asymmetric (RSA-2048) - Public Key
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>

                                            {/* File Upload */}
                                            <div className="mb-6">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Select File (Max 100MB)
                                                </label>
                                                <div className="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors">
                                                    <div className="space-y-1 text-center">
                                                        <i className="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                                        <div className="flex text-sm text-gray-600">
                                                            <label className="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500">
                                                                <span>Upload a file</span>
                                                                <input
                                                                    ref={fileInputRef}
                                                                    type="file"
                                                                    className="sr-only"
                                                                    onChange={handleFileSelect}
                                                                    accept="*/*"
                                                                />
                                                            </label>
                                                            <p className="pl-1">or drag and drop</p>
                                                        </div>
                                                        <p className="text-xs text-gray-500">Any file type up to 100MB</p>
                                                    </div>
                                                </div>
                                                {selectedFile && (
                                                    <div className="mt-2 p-3 bg-blue-50 rounded-lg">
                                                        <div className="flex items-center justify-between">
                                                            <span className="text-sm text-blue-800">
                                                                <i className="fas fa-file mr-2"></i>
                                                                {selectedFile.name} ({(selectedFile.size / 1024 / 1024).toFixed(2)} MB)
                                                            </span>
                                                            <button
                                                                onClick={() => {
                                                                    setSelectedFile(null);
                                                                    if (fileInputRef.current) fileInputRef.current.value = '';
                                                                }}
                                                                className="text-blue-600 hover:text-blue-800"
                                                            >
                                                                <i className="fas fa-times"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>

                                            {/* Password/Key Input */}
                                            {encryptionType === 'symmetric' ? (
                                                <div className="mb-6">
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Password
                                                    </label>
                                                    <input
                                                        type="password"
                                                        value={password}
                                                        onChange={(e) => setPassword(e.target.value)}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                                                        placeholder="Enter a strong password"
                                                    />
                                                    {password && (
                                                        <div className={`mt-2 text-sm ${
                                                            passwordStrength.isStrong ? 'text-green-600' : 'text-red-600'
                                                        }`}>
                                                            <i className={`fas fa-${passwordStrength.isStrong ? 'check-circle' : 'exclamation-circle'} mr-1`}></i>
                                                            {passwordStrength.message}
                                                        </div>
                                                    )}
                                                </div>
                                            ) : (
                                                <div className="mb-6">
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                                        Recipient's Public Key
                                                    </label>
                                                    <textarea
                                                        value={publicKey}
                                                        onChange={(e) => setPublicKey(e.target.value)}
                                                        rows="6"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"
                                                        placeholder="Paste the recipient's RSA public key here (PEM format)"
                                                    />
                                                </div>
                                            )}

                                            {/* Encrypt Button */}
                                            <button
                                                onClick={handleEncrypt}
                                                disabled={isProcessing || !selectedFile || (encryptionType === 'symmetric' && !password) || (encryptionType === 'asymmetric' && !publicKey)}
                                                className="w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                            >
                                                {isProcessing ? (
                                                    <span className="flex items-center justify-center">
                                                        <div className="loading-spinner mr-2"></div>
                                                        Encrypting...
                                                    </span>
                                                ) : (
                                                    <span>
                                                        <i className="fas fa-lock mr-2"></i>
                                                        Encrypt File
                                                    </span>
                                                )}
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Decryption Tab */}
                                {activeTab === 'decrypt' && (
                                    <div className="space-y-6">
                                        <div>
                                            <h3 className="text-lg font-medium text-gray-900 mb-4">
                                                <i className="fas fa-unlock mr-2 text-green-600"></i>
                                                Decrypt Your Files
                                            </h3>
                                            
                                            {/* File Upload for Decryption */}
                                            <div className="mb-6">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Select Encrypted File
                                                </label>
                                                <div className="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors">
                                                    <div className="space-y-1 text-center">
                                                        <i className="fas fa-file-archive text-4xl text-gray-400 mb-4"></i>
                                                        <div className="flex text-sm text-gray-600">
                                                            <label className="relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-green-500">
                                                                <span>Upload encrypted file</span>
                                                                <input
                                                                    ref={fileInputRef}
                                                                    type="file"
                                                                    className="sr-only"
                                                                    onChange={handleFileSelect}
                                                                    accept=".enc"
                                                                />
                                                            </label>
                                                        </div>
                                                        <p className="text-xs text-gray-500">Select a .enc file to decrypt</p>
                                                    </div>
                                                </div>
                                                {selectedFile && (
                                                    <div className="mt-2 p-3 bg-green-50 rounded-lg">
                                                        <div className="flex items-center justify-between">
                                                            <span className="text-sm text-green-800">
                                                                <i className="fas fa-file mr-2"></i>
                                                                {selectedFile.name} ({(selectedFile.size / 1024 / 1024).toFixed(2)} MB)
                                                            </span>
                                                            <button
                                                                onClick={() => {
                                                                    setSelectedFile(null);
                                                                    if (fileInputRef.current) fileInputRef.current.value = '';
                                                                }}
                                                                className="text-green-600 hover:text-green-800"
                                                            >
                                                                <i className="fas fa-times"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>

                                            {/* Password Input for Decryption */}
                                            <div className="mb-6">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Password
                                                </label>
                                                <input
                                                    type="password"
                                                    value={password}
                                                    onChange={(e) => setPassword(e.target.value)}
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
                                                    placeholder="Enter the password used for encryption"
                                                />
                                            </div>

                                            {/* Decrypt Button */}
                                            <button
                                                onClick={handleDecrypt}
                                                disabled={isProcessing || !selectedFile || !password}
                                                className="w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
                                            >
                                                {isProcessing ? (
                                                    <span className="flex items-center justify-center">
                                                        <div className="loading-spinner mr-2"></div>
                                                        Decrypting...
                                                    </span>
                                                ) : (
                                                    <span>
                                                        <i className="fas fa-unlock mr-2"></i>
                                                        Decrypt File
                                                    </span>
                                                )}
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Key Management Tab */}
                                {activeTab === 'keys' && (
                                    <div className="space-y-6">
                                        <div>
                                            <h3 className="text-lg font-medium text-gray-900 mb-4">
                                                <i className="fas fa-key mr-2 text-purple-600"></i>
                                                RSA Key Management
                                            </h3>
                                            
                                            <div className="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6">
                                                <div className="flex items-start">
                                                    <i className="fas fa-info-circle text-purple-600 mt-1 mr-3"></i>
                                                    <div className="text-sm text-purple-800">
                                                        <p className="font-medium mb-1">About RSA Keys</p>
                                                        <p>Generate your own RSA key pair for asymmetric encryption. The private key should be kept secret, while the public key can be shared with others to encrypt files for you.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            {/* Generate Keys Button */}
                                            <button
                                                onClick={generateKeyPair}
                                                disabled={isProcessing}
                                                className="w-full bg-purple-600 text-white py-3 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors mb-6"
                                            >
                                                {isProcessing ? (
                                                    <span className="flex items-center justify-center">
                                                        <div className="loading-spinner mr-2"></div>
                                                        Generating Keys...
                                                    </span>
                                                ) : (
                                                    <span>
                                                        <i className="fas fa-magic mr-2"></i>
                                                        Generate New RSA Key Pair
                                                    </span>
                                                )}
                                            </button>

                                            {/* Display Generated Keys */}
                                            {showKeys && generatedKeys.private && (
                                                <div className="space-y-4">
                                                    <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                                        <div className="flex items-start">
                                                            <i className="fas fa-exclamation-triangle text-yellow-600 mt-1 mr-3"></i>
                                                            <div className="text-sm text-yellow-800">
                                                                <p className="font-medium mb-1">Important Security Notice</p>
                                                                <p>Save your private key securely - it cannot be recovered if lost. Never share your private key with anyone.</p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    {/* Private Key */}
                                                    <div>
                                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                                            Private Key (Keep Secret!)
                                                        </label>
                                                        <div className="relative">
                                                            <textarea
                                                                value={generatedKeys.private}
                                                                readOnly
                                                                rows="8"
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 font-mono text-xs"
                                                            />
                                                            <button
                                                                onClick={() => copyToClipboard(generatedKeys.private)}
                                                                className="absolute top-2 right-2 bg-gray-600 text-white p-2 rounded hover:bg-gray-700 transition-colors"
                                                                title="Copy to clipboard"
                                                            >
                                                                <i className="fas fa-copy"></i>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    {/* Public Key */}
                                                    <div>
                                                        <label className="block text-sm font-medium text-gray-700 mb-2">
                                                            Public Key (Share with Others)
                                                        </label>
                                                        <div className="relative">
                                                            <textarea
                                                                value={generatedKeys.public}
                                                                readOnly
                                                                rows="6"
                                                                className="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-50 font-mono text-xs"
                                                            />
                                                            <button
                                                                onClick={() => copyToClipboard(generatedKeys.public)}
                                                                className="absolute top-2 right-2 bg-gray-600 text-white p-2 rounded hover:bg-gray-700 transition-colors"
                                                                title="Copy to clipboard"
                                                            >
                                                                <i className="fas fa-copy"></i>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    {/* Download Keys */}
                                                    <div className="flex space-x-4">
                                                        <button
                                                            onClick={() => {
                                                                const blob = new Blob([generatedKeys.private], { type: 'text/plain' });
                                                                const url = window.URL.createObjectURL(blob);
                                                                const a = document.createElement('a');
                                                                a.href = url;
                                                                a.download = 'private_key.pem';
                                                                a.click();
                                                                window.URL.revokeObjectURL(url);
                                                            }}
                                                            className="flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors"
                                                        >
                                                            <i className="fas fa-download mr-2"></i>
                                                            Download Private Key
                                                        </button>
                                                        <button
                                                            onClick={() => {
                                                                const blob = new Blob([generatedKeys.public], { type: 'text/plain' });
                                                                const url = window.URL.createObjectURL(blob);
                                                                const a = document.createElement('a');
                                                                a.href = url;
                                                                a.download = 'public_key.pem';
                                                                a.click();
                                                                window.URL.revokeObjectURL(url);
                                                            }}
                                                            className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"
                                                        >
                                                            <i className="fas fa-download mr-2"></i>
                                                            Download Public Key
                                                        </button>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Information Cards */}
                        <div className="grid md:grid-cols-3 gap-6 mb-8">
                            <div className="bg-white p-6 rounded-lg shadow-lg">
                                <div className="text-center">
                                    <i className="fas fa-shield-alt text-4xl text-blue-600 mb-4"></i>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-2">Military-Grade Security</h3>
                                    <p className="text-gray-600 text-sm">Uses AES-256 encryption with PBKDF2 key derivation for maximum security.</p>
                                </div>
                            </div>
                            <div className="bg-white p-6 rounded-lg shadow-lg">
                                <div className="text-center">
                                    <i className="fas fa-bolt text-4xl text-green-600 mb-4"></i>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-2">Fast & Efficient</h3>
                                    <p className="text-gray-600 text-sm">Optimized for files up to 100MB with progress indicators and real-time feedback.</p>
                                </div>
                            </div>
                            <div className="bg-white p-6 rounded-lg shadow-lg">
                                <div className="text-center">
                                    <i className="fas fa-user-shield text-4xl text-purple-600 mb-4"></i>
                                    <h3 className="text-lg font-semibold text-gray-900 mb-2">Privacy First</h3>
                                    <p className="text-gray-600 text-sm">No files or keys are stored on our servers. Everything is processed locally.</p>
                                </div>
                            </div>
                        </div>

                        {/* How It Works */}
                        <div className="bg-white rounded-lg shadow-lg p-6">
                            <h3 className="text-xl font-semibold text-gray-900 mb-4">
                                <i className="fas fa-graduation-cap mr-2 text-indigo-600"></i>
                                How It Works
                            </h3>
                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 className="font-medium text-gray-900 mb-2">Symmetric Encryption (AES-256)</h4>
                                    <ol className="list-decimal list-inside space-y-1 text-sm text-gray-600">
                                        <li>Your password is converted to a 256-bit key using PBKDF2</li>
                                        <li>A random initialization vector (IV) is generated</li>
                                        <li>File is encrypted using AES-256 in CBC mode</li>
                                        <li>SHA-256 hash is added for integrity verification</li>
                                        <li>Encrypted file is ready for secure storage or transmission</li>
                                    </ol>
                                </div>
                                <div>
                                    <h4 className="font-medium text-gray-900 mb-2">Asymmetric Encryption (RSA-2048)</h4>
                                    <ol className="list-decimal list-inside space-y-1 text-sm text-gray-600">
                                        <li>Generate your RSA key pair (public + private)</li>
                                        <li>Share your public key with others</li>
                                        <li>Others encrypt files using your public key</li>
                                        <li>Only you can decrypt using your private key</li>
                                        <li>Perfect for secure file sharing without password exchange</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Footer */}
                    <footer className="bg-gray-800 text-white py-8 mt-16">
                        <div className="container mx-auto px-4 text-center">
                            <p className="text-gray-400">
                                Built with ❤️ using Flask, PyCryptodome, and modern web technologies
                            </p>
                            <p className="text-sm text-gray-500 mt-2">
                                This application demonstrates advanced cryptographic principles and security best practices.
                            </p>
                        </div>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
